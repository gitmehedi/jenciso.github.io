<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Embedding asciinema cast in your Hugo site - Tech-Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="Embedding asciinema cast in your Hugo site" />
<meta property="og:description" content="Background I use Asciinema commonly to share my favorite commands, it is an excellent tool for technical blogs, documentation, and landing pages alike. It allows you to create compact animations of commands along with their output and formatting with far less overhead than the alternative of creating a gif or mp4.
You can embed casts hosted on asciinema into your Hugo posts and pages by embedding a snippet like this directly into the markdown:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jenciso.github.io/post/asciinema-hugo/" /><meta property="article:published_time" content="2019-06-02T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-06-02T00:00:00&#43;00:00"/>

	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Embedding asciinema cast in your Hugo site"/>
<meta name="twitter:description" content="Background I use Asciinema commonly to share my favorite commands, it is an excellent tool for technical blogs, documentation, and landing pages alike. It allows you to create compact animations of commands along with their output and formatting with far less overhead than the alternative of creating a gif or mp4.
You can embed casts hosted on asciinema into your Hugo posts and pages by embedding a snippet like this directly into the markdown:"/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-106539950-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

        
        <link rel="stylesheet" type="text/css" href="https://jenciso.github.io/css/asciinema-player.css" />
        

<link rel="stylesheet" href="/highlight/styles/a11y-dark.css">
<script src="/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Tech-Blog" rel="home">
				<div class="logo__title">Tech-Blog</div>
				<div class="logo__tagline">Juan Enciso</div>
			</a>
			<a href="/" title="Tech-Blog" rel="home">
		                <img style="float: right" src="/images/logo_llama_blog.png" alt="Site Logo" width="90">
			</a>
                </div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/post/">Blog</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">About me</a>
		</li>
	</ul>
</nav>


	</div>
</header>

		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Embedding asciinema cast in your Hugo site</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-06-02T00:00:00">June 02, 2019</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/linux" rel="category">linux</a></span>
</div>
</div>
		</header>
		<figure class="post__thumbnail">
			<img src="https://avatars3.githubusercontent.com/u/6506055?s=400&amp;v=4" alt="Embedding asciinema cast in your Hugo site">
		</figure><div class="content post__content clearfix">
			

<h2 id="background">Background</h2>

<p>I use <a href="https://github.com/asciinema/asciinema">Asciinema</a> commonly to share my favorite commands, it is an excellent tool for technical blogs, documentation, and landing pages alike. It allows you to create compact animations of commands along with their output and formatting with far less overhead than the alternative of creating a gif or mp4.</p>

<p>You can embed casts hosted on asciinema into your Hugo posts and pages by embedding a snippet like this directly into the markdown:</p>

<pre><code class="language-js">&lt;script src=&quot;https://asciinema.org/a/186686.js&quot; id=&quot;asciicast-186686&quot; async&gt;&lt;/script&gt;
</code></pre>

<p>Although, it works fine, you could use it into your blog without upload the cast file in public. Thinks in security IT department rules, if you have a private blog it could be important to host the cast file into your statics files. So, these are the steps to do that</p>

<h2 id="embedding-in-hugo-with-shortcodes">Embedding in Hugo with shortcodes</h2>

<p>Download the latest asciinema-player release from their <a href="https://github.com/asciinema/asciinema-player/releases">GitHub page</a>.</p>

<h4 id="add-static-assets-to-your-head">Add static assets to your head</h4>

<p>Add the following to your template’s <code>head</code> section:</p>

<pre><code class="language-html">{{ if .Params.asciinema }}
    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;{{ .Site.BaseURL }}css/asciinema-player.css&quot; /&gt;
{{ end }}
</code></pre>

<p>Add the following just before the closing <code>body</code> tag in your template’s footer:</p>

<pre><code class="language-html">{{ if .Params.asciinema }}
    &lt;script src=&quot;{{ .Site.BaseURL }}js/asciinema-player.js&quot;&gt;&lt;/script&gt;
{{ end }}
</code></pre>

<h4 id="create-a-shortcode">Create a shortcode</h4>

<p>Create a file <code>layouts/shortcodes/asciinema.html</code> with the following contents:</p>

<pre><code class="language-html">&lt;p&gt;
    &lt;asciinema-player
        src=&quot;/casts/{{ with .Get &quot;key&quot; }}{{ . }}{{ end }}.cast&quot;
        cols=&quot;{{ if .Get &quot;cols&quot; }}{{ .Get &quot;cols&quot; }}{{ else }}640{{ end }}&quot;
        rows=&quot;{{ if .Get &quot;rows&quot; }}{{ .Get &quot;rows&quot; }}{{ else }}10{{ end }}&quot;
        {{ if .Get &quot;autoplay&quot; }}autoplay=&quot;{{ .Get &quot;autoplay&quot; }}&quot;{{ end }}
        {{ if .Get &quot;preload&quot; }}preload=&quot;{{ .Get &quot;preload&quot; }}&quot;{{ end }}
        {{ if .Get &quot;loop&quot; }}loop=&quot;{{ .Get &quot;loop&quot; }}&quot;{{ end }}
        start-at=&quot;{{ if .Get &quot;start-at&quot; }}{{ .Get &quot;start-at&quot; }}{{ else }}0{{ end }}&quot;
        speed=&quot;{{ if .Get &quot;speed&quot; }}{{ .Get &quot;speed&quot; }}{{ else }}1{{ end }}&quot;
        {{ if .Get &quot;idle-time-limit&quot; }}idle-time-limit=&quot;{{ .Get &quot;idle-time-limit&quot; }}&quot;{{ end }}
        {{ if .Get &quot;poster&quot; }}poster=&quot;{{ .Get &quot;poster&quot; }}&quot;{{ end }}
        {{ if .Get &quot;font-size&quot; }}font-size=&quot;{{ .Get &quot;font-size&quot; }}&quot;{{ end }}
        {{ if .Get &quot;theme&quot; }}theme=&quot;{{ .Get &quot;theme&quot; }}&quot;{{ end }}
        {{ if .Get &quot;title&quot; }}title=&quot;{{ .Get &quot;title&quot; }}&quot;{{ end }}
        {{ if .Get &quot;author&quot; }}author=&quot;{{ .Get &quot;author&quot; }}&quot;{{ end }}
        {{ if .Get &quot;author-url&quot; }}author-url=&quot;{{ .Get &quot;author-url&quot; }}&quot;{{ end }}
        {{ if .Get &quot;author-img-url&quot; }}author-img-url=&quot;{{ .Get &quot;author-img-url&quot; }}&quot;{{ end }}
    &gt;&lt;/asciinema-player&gt;
&lt;/p&gt;
</code></pre>

<blockquote>
<p>The fields map directly to those documented <a href="https://github.com/asciinema/asciinema-player#asciinema-player-element-attributes">here</a>. All fields are supported, but only the key is required.</p>
</blockquote>

<h4 id="create-casts">Create casts</h4>

<p>Follow the instructions to create new casts. Save them to <code>static/casts/&lt;key&gt;.cast</code>.</p>

<h4 id="using-the-shortcode">Using the shortcode</h4>

<p>You can now embed asciinema casts in your Hugo posts and pages with the following shortcode:</p>

<pre><code class="language-sh">{{&lt; asciinema key=&quot;demo-cast&quot; rows=&quot;10&quot; preload=&quot;1&quot; &gt;}}
</code></pre>

<p>You also need to include <code>asciinema = true</code> in the frontmatter for you post too, to make sure the javascript and css assets are included.</p>

<h4 id="result">Result</h4>

<p>You should end up with something like this:</p>

<p>
    <asciinema-player
        src="/casts/249623.cast"
        cols="158"
        rows="40"
        
        preload="1"
        
        start-at="0"
        speed="1"
        
        
        
        
        
        
        
        
    ></asciinema-player>
</p>


<h4 id="references">References</h4>

<p><a href="https://www.tonylykke.com/posts/custom-fonts-in-asciinema/">https://www.tonylykke.com/posts/custom-fonts-in-asciinema/</a></p>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="tags__icon icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/hugo/" rel="tag">hugo</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/asciinema/" rel="tag">asciinema</a></li>
	</ul>
</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Juan Enciso avatar" src="/img/jenciso.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Juan Enciso</span>
	</div>
	<div class="authorbox__description">
		Juan Enciso&#39;s true identity is unknown. Maybe he is a successful blogger or writer. Nobody knows it.
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/post/altering-the-minio-bucket-policy-in-kubernetes/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Altering the minio bucket policy in kubernetes</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/post/gluster-heketi/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">Cleaning Gluster Heketi volumes</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jenciso-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2019 Juan Enciso.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
    <script src="https://jenciso.github.io/js/asciinema-player.js"></script>

</body>
</html>
